<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>CatalogUml - LucidDB Wiki</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.18.1" />
<link rel="shortcut icon" href="/wiki/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/wiki/opensearch_desc.php" title="LucidDB Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://luciddb.org/wiki/api.php?action=rsd" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
<link rel="alternate" type="application/atom+xml" title="LucidDB Wiki Atom feed" href="/wiki/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="/wiki/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.monobook&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/wiki/skins/monobook/IE50Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/wiki/skins/monobook/IE55Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/wiki/skins/monobook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/wiki/skins/monobook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}

/* cache key: wikidb:resourceloader:filter:minify-css:4:c88e2bcd56513749bec09a7e29cb3ffa */
</style>
<script src="/wiki/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
	mw.config.set({"wgCanonicalNamespace": "", "wgCanonicalSpecialPageName": false, "wgNamespaceNumber": 0, "wgPageName": "CatalogUml", "wgTitle": "CatalogUml", "wgCurRevisionId": 6475, "wgArticleId": 1475, "wgIsArticle": true, "wgAction": "view", "wgUserName": null, "wgUserGroups": ["*"], "wgCategories": [], "wgBreakFrames": false, "wgRestrictionEdit": [], "wgRestrictionMove": []});
}
</script><script>if(window.mw){
	mw.loader.load(["mediawiki.page.startup"]);
}
</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-CatalogUml action-view skin-monobook">
<div id="globalWrapper">
<div id="column-content"><div id="content">
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading">CatalogUml</h1>
	<div id="bodyContent">
		<div id="siteSub">From LucidDB Wiki</div>
		<div id="contentSub"></div>
		<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>
		<!-- start content -->
<div lang="en" dir="ltr" class="mw-content-ltr"><table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#UML_Notation"><span class="tocnumber">1</span> <span class="toctext">UML Notation</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#General_Rules"><span class="tocnumber">2</span> <span class="toctext">General Rules</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Enumerations"><span class="tocnumber">3</span> <span class="toctext">Enumerations</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Additive_Changes_Only"><span class="tocnumber">4</span> <span class="toctext">Additive Changes Only</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#UML_editor"><span class="tocnumber">5</span> <span class="toctext">UML editor</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Generating_C.2B.2B_model_classes"><span class="tocnumber">6</span> <span class="toctext">Generating C++ model classes</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Model-specific_rules"><span class="tocnumber">7</span> <span class="toctext">Model-specific rules</span></a></li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="UML_Notation">UML Notation</span></h2>
<p>Here's a <a rel="nofollow" class="external text" href="http://users.skynet.be/averkeyn/computer/uml.html">nice summary</a> (we only use a small subset of full UML).
</p><p>Since we only model static structure, and no behavior, our convention is to hide the operations compartment of all classes in diagrams.  This helps conserve screen space for complex diagrams.  Also, try to keep superclasses above their subclasses.  Example:
</p><p><img src="http://farrago.sourceforge.net/fem/View.png" alt="View.png" />
</p><p>If a diagram gets too complicated, refactor it into a number of simpler views of different aspects of the model.  A sign you need to refactor is when you have line crossings and it's not possible to avoid them because the diagram graph is non-planar.
</p>
<h2> <span class="mw-headline" id="General_Rules">General Rules</span></h2>
<ul><li> Be sure to give every association a unique name. If you forget to do this, you may get difficult-to-decipher errors during createCatalog. Association names are mapped directly into Java class names (without any prefix).
</li><li> Likewise, give both ends of every association a name. An end name is used to generate an accessor method, so it should be unique within the class on the other end of the association (and all of that class's superclasses and subclasses).
</li><li> Use only MOF primitive types for attributes. If you accidentally use a Java type (some of the names are the same as MOF types), you may get difficult-to-decipher errors during createCatalog. (In ArgoUML, the primitive MOF types are the ones with Initcap names AND green disks next to them; some of the Java types also have green disks, but you don't want those.)
</li><li> Watch out for trailing spaces or tabs on object names; they will pass createCatalog successfully, but will cause mysterious failures later during XMI import.
</li><li> The version of Netbeans MDR in use in Farrago contains a bug which causes invalid class definitions to be generated when there are too many primitive <tt>long</tt> or <tt>double</tt> attributes.  In practice, if an attribute's type is <tt>Long</tt> or <tt>Double</tt> and its multiplicity is 1, the metamodel's interfaces will use a <tt>long</tt> or <tt>double</tt> primitive.  When 5 or more of these attributes exist in a class (including super class attributes), catalog creation will intermittently fail.  For 6 or more, it will always fail.  The simplest short term workarounds are to use another type (e.g. <tt>Integer</tt> or <tt>Float</tt>) or to set multiplicity to <tt>0..1</tt>.  In the longer term, we'll resurrect a buildable copy of the MDR source and can fix its code generation.  See <a rel="nofollow" class="external text" href="http://issues.eigenbase.org/browse/FRG-295">FRG-295</a>.
</li><li> Don't bother specifying initial values for attributes, since that metamodel feature is not known to JMI.
</li></ul>
<p>The rules below are important for persistent catalog entries which will be queried via SQL views. For convenience, they can be safely ignored for transient metadata such as Fennel commands and plans:
</p>
<ul><li> Don't define many-to-many associations. Instead, define intersection classes.
</li><li> Don't use classes as attribute types. Instead, define a composition association.
</li><li> Don't define multi-valued attributes. Instead, define a composition association.
</li></ul>
<hr />
<h2> <span class="mw-headline" id="Enumerations">Enumerations</span></h2>
<ol><li> Create a new class, e.g. AggregationType.
</li><li> Give it a "stereotype" of &lt;&lt;enumeration&gt;&gt; (ArgoUML shows the available stereotypes down in one of the tabs at the bottom pane).
</li><li> For each symbol such as SUM, COUNT, etc, repeat steps 4-6 below.
</li><li> Create a new attribute in AggregationType with the corresponding name, all uppercase (e.g. SUM)
</li><li> Give the attribute the same type as the class (AggregationType). This is a little unintuitive, but correct, and matches the pre-1.5 typesafe enumeration pattern everyone used before 1.5.
</li><li> Mark the attribute as frozen and static (corresponds to static and final in Java, same as in the typesafe enum pattern).
</li><li> Once you're done defining the enum, you can use it as the type for an attribute in a normal class such as Measure. Here you have to violate the rule above about not using classes for attribute types; it's OK in this context.  The multiplicity can be either 0..1 (allowing null) or 1..1 (one of the enumerated values is always required to be set; there is no default).
</li></ol>
<hr />
<h2> <span class="mw-headline" id="Additive_Changes_Only">Additive Changes Only</span></h2>
<p>As described in <a href="/wiki/FarragoCatalogUpgrade" title="FarragoCatalogUpgrade">FarragoCatalogUpgrade</a>, it is important when changing the model to think about upgrades for existing catalogs in the wild. To be safe, only make <em>additive</em> changes for non-transient portions of the model. Here's what this means:
</p>
<ul><li> Don't rename attributes, change their types, or delete them
</li><li> Don't rename packages, classes, associations, or ends; and don't delete them or move them to different parent packages
</li><li> Don't reattach associations to different end classes
</li><li> Don't add new associations between existing classes (unless you make both ends optional).
</li><li> Don't add or remove superclasses from existing classes. (But you can add new classes as subclasses of existing classes.)
</li><li> When adding a new association between an existing class and a new class, be sure the new class end is optional (multiplicity 0..1 or 0..*).
</li><li> For new attributes of primitive type (e.g. Integer) it is not necessary to make them optional; they will be set to 0 (or false for Boolean) by upgrade. However, new attributes of String or enum type must be declared as optional (multiplicity 0..1).
</li></ul>
<hr />
<h2> <span class="mw-headline" id="UML_editor">UML editor</span></h2>
<p>Which UML editor to use? We're using the open-source project <a rel="nofollow" class="external text" href="http://argouml.tigris.org">ArgoUML</a>. Download the latest version before editing the model. Version 0.26.2 is known to work, but do not use version 0.28.1. (It writes a UML file that is not well-formed XML, and gives the error 'The prefix "argouml" for element "argouml:pathitem" is not bound.' during the convertExtModel xslt processing.) See <a href="/wiki/ArgoUmlAssociationPlacement" title="ArgoUmlAssociationPlacement">ArgoUmlAssociationPlacement</a> for details on how to get around an incompatibility between MDR and the association placement rules imposed by ArgoUML.
</p>
<hr />
<h2> <span class="mw-headline" id="Generating_C.2B.2B_model_classes">Generating C++ model classes</span></h2>
<p>To update C++ code to match catalog changes in the Fennel sub-package, see <a href="/wiki/FarragoFennelModelUpdate" title="FarragoFennelModelUpdate">FarragoFennelModelUpdate</a>.
</p>
<hr />
<h2> <span class="mw-headline" id="Model-specific_rules">Model-specific rules</span></h2>
<p>See <a href="/wiki/FemFaq" title="FemFaq">FemFaq</a>.
</p>
<!-- 
NewPP limit report
Preprocessor node count: 26/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:1475-0!*!0!!en!*!* and timestamp 20140414194529 -->
</div><div class="printfooter">
Retrieved from "<a href="http://luciddb.org/wiki/index.php?title=CatalogUml&amp;oldid=6475">http://luciddb.org/wiki/index.php?title=CatalogUml&amp;oldid=6475</a>"</div>
		<div id='catlinks' class='catlinks catlinks-allhidden'></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
				<li id="ca-nstab-main" class="selected"><a href="/wiki/CatalogUml" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="/wiki/index.php?title=Talk:CatalogUml&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-viewsource"><a href="/wiki/index.php?title=CatalogUml&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				<li id="ca-history"><a href="/wiki/index.php?title=CatalogUml&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-anonuserpage"><a href="/wiki/User:98.207.60.70" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">98.207.60.70</a></li>
				<li id="pt-anontalk"><a href="/wiki/User_talk:98.207.60.70" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
				<li id="pt-anonlogin"><a href="/wiki/index.php?title=Special:UserLogin&amp;returnto=CatalogUml" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a title="Visit the main page" style="background-image: url(http://www.luciddb.org/img/logo.gif);" href="/wiki/LucidDbDocs"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class="generated-sidebar portlet" id="p-Product_Documentation">
		<h5>Product Documentation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-LucidDB-Server"><a href="/wiki/LucidDbDocs">LucidDB Server</a></li>
			</ul>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-Eigenbase_Projects">
		<h5>Eigenbase Projects</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Introduction"><a href="/wiki/Eigenbase_Introduction">Introduction</a></li>
				<li id="n-LucidDB-Server"><a href="/wiki/LucidDbDocs">LucidDB Server</a></li>
				<li id="n-Enki-Library"><a href="/wiki/EnkiDocs">Enki Library</a></li>
				<li id="n-Farrago-Engine"><a href="/wiki/FarragoDocs">Farrago Engine</a></li>
				<li id="n-Fennel-Library"><a href="/wiki/FennelDocs">Fennel Library</a></li>
			</ul>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-Wiki_Tools">
		<h5>Wiki Tools</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Recent-Page-Updates"><a href="/wiki/Special:RecentChanges">Recent Page Updates</a></li>
				<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
				<li id="n-help"><a href="/wiki/Help:Contents" title="The place to find out">Help</a></li>
				<li id="n-sitesupport"><a href="/wiki/Sitesupport-url">sitesupport</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/wiki/index.php" id="searchform">
				<input type='hidden' name="title" value="Special:Search"/>
				<input type="search" name="search" title="Search LucidDB Wiki [f]" accesskey="f" id="searchInput" />
				<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
				<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/CatalogUml" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/CatalogUml" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
				<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
				<li><a href="/wiki/index.php?title=CatalogUml&amp;printable=yes" rel="alternate">Printable version</a></li>
				<li id="t-permalink"><a href="/wiki/index.php?title=CatalogUml&amp;oldid=6475" title="Permanent link to this revision of the page">Permanent link</a></li>
			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer">
	<div id="f-copyrightico">
		<a href="http://www.gnu.org/copyleft/fdl.html"><img src="/wiki/skins/common/images/gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31" /></a>
	</div>
	<div id="f-poweredbyico">
		<a href="http://www.mediawiki.org/"><img src="/wiki/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
	</div>
	<ul id="f-list">
		<li id="lastmod"> This page was last modified on 19 January 2010, at 07:18.</li>
		<li id="viewcount">This page has been accessed 5,185 times.</li>
		<li id="copyright">Content is available under <a class="external" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.2</a>.</li>
		<li id="privacy"><a href="/wiki/LucidDB_Wiki:Privacy_policy" title="LucidDB Wiki:Privacy policy">Privacy policy</a></li>
		<li id="about"><a href="/wiki/LucidDB_Wiki:About" title="LucidDB Wiki:About">About LucidDB Wiki</a></li>
		<li id="disclaimer"><a href="/wiki/LucidDB_Wiki:General_disclaimer" title="LucidDB Wiki:General disclaimer">Disclaimers</a></li>
	</ul>
</div>
</div>
<script>if(window.mw){
	mw.loader.load(["mediawiki.user", "mediawiki.util", "mediawiki.page.ready", "mediawiki.legacy.wikibits", "mediawiki.legacy.ajax"]);
}
</script>
<script>if(window.mw){
	mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,
	"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;mw.user.tokens.set({"editToken":"+\\","watchToken":false});;mw.loader.state({"user.options":"ready","user.tokens":"ready"});
	
	/* cache key: wikidb:resourceloader:filter:minify-js:4:99acc2c3ab516bb21085c70c2195f3df */
}
</script><!-- Piwik -->
<script type="text/javascript">
/* <![CDATA[ */
var pkBaseURL = (("https:" == document.location.protocol) ? "https://http://apps.sourceforge.net/piwik/eigenbase/" : "http://http://apps.sourceforge.net/piwik/eigenbase/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
/* ]]> */
</script>
<script type="text/javascript">
/* <![CDATA[ */
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
piwikTracker.setDocumentTitle("");
piwikTracker.setIgnoreClasses("image");

piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
/* ]]> */
</script><noscript><p><img src="http://http://apps.sourceforge.net/piwik/eigenbase/piwik.php?idsite=1" style="border:0" alt=""/></p></noscript>
<!-- /Piwik --><!-- Served in 0.176 secs. --></body></html>